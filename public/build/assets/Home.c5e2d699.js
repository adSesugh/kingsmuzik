import{c as N,r as c,a as s,j as e,H as g,L as v}from"./app.8bed910f.js";import{G as b}from"./Guest.84a9dd5f.js";import{h as y}from"./moment.9709ab41.js";import"./ApplicationLogo.a8871269.js";import"./index.esm.fad5b1a8.js";import"./iconBase.36102785.js";const O=()=>{const{props:a}=N(),[m,f]=c.exports.useState(0),[r,o]=c.exports.useState(a.trendings[m]),[i,j]=c.exports.useState(a.trendings),[n,h]=c.exports.useState({}),[u,p]=c.exports.useState(!0),[d,x]=c.exports.useState(1);c.exports.useEffect(()=>{setTimeout(()=>{if(u){const l=d+1;l>a.trendings.length?(f(0),x(1),o(a.trendings[0])):(o(a.trendings[d]),h(a.trendings[d].comments),f(l-1),x(l))}},1e4)},[r,m,d]);const w=l=>{o(l),h(l.comments),p(!1)};return console.log(r),s(b,{children:[e(g,{title:"Home"}),s("div",{className:"h-full",children:[e("div",{className:"sm:h-96 h-44 border-b",children:s("div",{className:"flex h-full w-full sm:justify-between",children:[e("div",{className:"sm:w-2/3 w-full h-full bg-gray-800",children:s("div",{className:"flex w-full h-full justify-between",children:[s("div",{className:"w-1/3 bg-slate-300 sm:block hidden",children:[Object.keys(n).length!==0&&e("div",{className:"h-[8%] px-2 bg-white items-center",children:e("h3",{className:"font-serif",children:"Feeds"})}),e("div",{className:`${Object.keys(n).length!==0?"h-[92%]":"h-full"} overflow-hidden`,children:Object.keys(n).length!==0?e("div",{className:"h-full overflow-y-scroll",children:n.map((l,t)=>e("div",{className:"h-28 rounded-tl-[30px] rounded-br-[30px] bg-white shadow-xl my-1",children:s("div",{className:"flex flex-col justify-between h-full w-full px-2",children:[e("div",{className:"overflow-hidden",children:e("span",{className:"text-xs leading-4 px-2 italic",children:l.message})}),s("div",{className:"flex flex-row justify-between",children:[e("span",{className:"text-[10px] uppercase",children:l.sender}),e("span",{className:"text-[10px] px-2",children:y(l.createdAt).format("LL")})]})]})},t))}):e("div",{className:"flex h-full justify-center items-center",children:e("span",{className:"italic text-xs",children:"No Feed yet"})})})]}),e("div",{className:"sm:w-2/3 w-full animate-wiggle",children:e("img",{src:r==null?void 0:r.coverImg,alt:"",className:"h-full w-full animate-pulse"})})]})}),e("div",{className:"sm:w-1/3 sm:block hidden h-full bg-slate-300",children:s("div",{className:"w-full h-full",children:[e("div",{className:"flex h-[8%] items-center px-2 w-full bg-gradient-to-tr from-blue-600 to-purple-600",children:e("h3",{className:"text-white",children:"Trending"})}),e("div",{className:"flex h-[92%] overflow-hidden w-full pl-1",children:(i==null?void 0:i.length)!==0&&e("div",{className:"h-full overflow-y-scroll space-y-[1px] w-full",children:i==null?void 0:i.map((l,t)=>e("div",{className:`${t===m&&"bg-gradient-to-tr from-gray-400 to-purple-500 "} h-[20%] bg-gray-400 cursor-pointer select-none`,onClick:()=>{w(l),f(t)},children:s("div",{className:"flex w-full h-full justify-between",children:[e("div",{className:"w-[20%] h-full",children:e("img",{src:l.coverImg,className:"w-full h-full"})}),s("div",{className:"flex flex-col w-[80%] px-1 h-full justify-center",children:[e("h5",{className:"font-serif text-md capitalize",children:l.title}),s("div",{className:"flex flex-row justify-between mt-1",children:[e("div",{children:s("span",{className:"text-xs text-gray-800",children:[l.views," views"]})}),e("div",{children:s("span",{className:"text-xs text-gray-800",children:[l.comments.length," comments"]})})]})]})]})},t))})})]})})]})}),e("div",{className:"flex sm:flex-col mx-1",children:e("div",{className:"grid sm:grid-cols-5 grid-cols-1 sm:space-x-1 sm:space-y-1 w-full items-center justify-center",children:a.posts.data.map((l,t)=>e("div",{className:"flex flex-col h-80 justify-between","data-aos":t%2===0?"fade-up":"fade-down",children:e(v,{href:route("detail",l.slug),className:"flex flex-col h-full",children:s("div",{className:"relative h-full inline-block w-full",children:[e("img",{src:l.coverImg,className:"flex h-full w-full hover:animate-bounce rounded-xl"}),s("div",{className:"flex flex-col absolute bottom-0 bg-gray-400/60 rounded-xl px-2 py-1 w-full",children:[s("div",{className:"flex justify-between items-center border-b",children:[e("span",{className:"text-white px-6 bg-black/50 font-serif rounded-xl text-xs",children:l.category.name}),e("span",{className:"flex bg-red-600 text-white rounded-full h-6 w-6 items-center justify-center text-[12px] font-serif",children:l.views})]}),e("span",{className:"text-black py-1 font-semibold font-serif text-xs",children:l.title})]})]})})},t))})})]})]})};export{O as default};

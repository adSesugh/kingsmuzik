import{A as h}from"./Authenticated.66fcf9e1.js";import{c as m,r as o,j as e,a as t,F as u}from"./app.42d8ad0f.js";import{h as x}from"./moment.9709ab41.js";import{G as p}from"./iconBase.f185042c.js";import{b as v}from"./index.esm.a76349a2.js";import"./ApplicationLogo.424cf377.js";function w(l){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 14V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zm-9-1c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm13-6v11c0 1.1-.9 2-2 2H4v-2h17V7h2z"}}]})(l)}const S=()=>{const{props:l}=m(),[a,i]=o.exports.useState();o.exports.useEffect(()=>{(l==null?void 0:l.posts.length)>0&&i(l.posts[0])},[]);const d=s=>{const c=l.posts.find(r=>r.id===s);i(c)},f=s=>{const c=l.posts.find(n=>n.id===s);let r=0;return c.purchases.forEach(n=>{r+=Number(n.amount)}),r};return e(h,{auth:l.auth,children:e("div",{className:"h-full w-full overflow-y-scroll",children:t("div",{className:"flex sm:flex-row flex-col sm:h-full justify-between overflow-hidden",children:[t("div",{className:"sm:w-1/3 w-full bg-slate-300 overflow-y-scroll px-2",children:[l.posts.length!==0&&e(u,{children:l.posts.map((s,c)=>e("div",{onClick:()=>d(s.id),className:"flex h-20 w-full overflow-hidden shadow-2xl my-2 rounded-tl-[30px] rounded-br-[30px] cursor-pointer select",children:t("div",{className:"flex w-full justify-between items-center",children:[e("div",{className:"h-20 w-[20%] overflow-hidden",children:e("img",{src:s.coverImg,className:"h-full rounded-lg"})}),e("div",{className:"h-20 w-[80%] bg-white",children:e("div",{className:"flex flex-col h-full items-center px-2",children:t("div",{className:"flex flex-col h-full justify-between items-center",children:[e("p",{children:s.title}),t("span",{className:"text-lg font-bold text-right w-full",children:[e("span",{className:"text-xs font-bold",children:"Total Sales:"})," ","\u20A6",Intl.NumberFormat().format(f(s.id))]})]})})})]})},c))}),l.posts.length===0&&t("div",{className:"flex flex-col h-full justify-center items-center",children:[e(w,{size:60}),e("span",{children:"There is no purchase yet!"})]})]}),t("div",{className:"sm:w-2/3 w-full overflow-y-scroll pl-1",children:[(a==null?void 0:a.purchases.length)>0&&e("div",{className:"grid sm:grid-cols-4 space-x-2 space-y-2 px-2",children:a.purchases.map((s,c)=>e("div",{className:"h-32 bg-white shadow-2xl rounded-lg mt-2",children:t("div",{className:"flex flex-col justify-between h-full p-2",children:[t("span",{className:"w-full text-left",children:["@",s.user.username]}),e("div",{className:"w-full text-center",children:t("span",{className:"w-full text-center text-xl font-bold",children:["\u20A6",Intl.NumberFormat().format(s.amount)]})}),e("span",{className:"w-full text-left text-xs italic text-slate-500",children:x(s.created_at).format("LL")})]})},c))}),(a==null?void 0:a.purchases.length)===0&&t("div",{className:"flex flex-col h-full justify-center items-center",children:[e(v,{size:60}),e("span",{children:"Purchases not found!"})]})]})]})})})};export{S as default};

import{j as e,a as r,F as f,L as x,r as i,H as v}from"./app.8bed910f.js";import{A as N}from"./Authenticated.78e3eade.js";import{h as p}from"./moment.9709ab41.js";import{F as w,a as g}from"./index.esm.fad5b1a8.js";import{A as b}from"./AudioControl.bbee3487.js";import{V as y}from"./VideoCanvas.0a151aa5.js";import"./ApplicationLogo.a8871269.js";import"./iconBase.36102785.js";import"./index.esm.9889e0e6.js";import"./styles.c79e221e.js";const j=({type:l,value:a})=>e("div",{className:"h-28 sm:w-48 rounded-xl bg-white",children:r("div",{className:"flex flex-col h-full justify-between",children:[e("div",{className:"h-[70%] p-2",children:e("div",{className:"flex h-full justify-center items-center",children:e("span",{className:"font-bold",children:a})})}),e("div",{className:"h-[30%] p-2",children:e("div",{className:"flex h-full items-center",children:e("span",{className:"text-md font-normal",children:l})})})]})});var o=j;const P=({feeds:l})=>e("div",{className:"h-full overflow-y-scroll pb-2 bg-white",children:(l==null?void 0:l.length)===0?e("div",{className:"flex h-full items-center justify-center",children:r("div",{className:"flex flex-col items-center justify-center",children:[e(w,{size:40}),e("span",{className:"italic",children:"There are no current feed!"})]})}):e(f,{children:l==null?void 0:l.data.map((a,s)=>e("div",{className:"h-28 rounded-tl-[30px] rounded-br-[30px] bg-white shadow-xl my-1",children:r("div",{className:"flex flex-col justify-between h-full w-full px-2",children:[r("div",{className:"overflow-hidden",children:[e("span",{className:"text-sm leading-4 px-2 italic",children:a.message}),r("p",{className:"text-xs",children:["Post:- \xA0",e(x,{className:"uppercase text-[8px] font-semibold",children:e("span",{className:"text-[10px] font-bold",children:a.post})})]})]}),r("div",{className:"flex flex-row justify-between",children:[e("span",{className:"text-[10px] uppercase",children:a.sender}),e("span",{className:"text-xs px-2",children:p(a.createdAt).format("LL")})]})]})},s))})});var T=P;const A=({track:l})=>{const[a,s]=i.exports.useState(!1),[d,c]=i.exports.useState(0),{title:t,coverImg:m,audioUrl:h}=l,n=i.exports.useRef(new Audio(h)),u=i.exports.useRef();return i.exports.useEffect(()=>(a?(n.current.play(),setInterval(()=>{c(n==null?void 0:n.current.currentTime)},1e3)):n.current.pause(),()=>{n.current.pause(),clearInterval(u.current)}),[a]),e("div",{className:"h-full w-full",children:r("div",{className:"relative inline-block h-[230px] w-full",children:[e("img",{src:m,className:"h-full w-full relative"}),r("div",{className:"flex items-center absolute top-2 left-2",children:[e("img",{src:m,alt:t,className:"rounded-full h-28 w-28 shadow-2xl border-2 border-gray-50"}),e("h2",{className:"text-xs italic px-2 uppercase",children:t})]}),e("div",{className:"flex flex-col absolute top-40 right-2 left-2 h-16 rounded-2xl bg-opacity-90",children:e(b,{isPlaying:d===n.current.duration?!1:a,onPlayPauseClick:s})})]})})},C=({trending:l,trendings:a})=>{const[s,d]=i.exports.useState(l);return r("div",{className:"flex flex-col justify-between h-full w-full mx-1 space-y-1 divide-x-2",children:[e("div",{className:"h-[45%]",children:(s==null?void 0:s.audioUrl)&&s.videoUrl!==void 0?e(A,{track:s}):(s==null?void 0:s.videoUrl)||s.audioUrl?e("div",{className:"",children:e(y,{video:s.videoUrl})}):e("img",{src:s==null?void 0:s.coverImg,className:"h-full w-full"})}),e("div",{className:"h-[55%]",children:a.length!==0&&e("div",{className:"flex h-full w-full overflow-y-scroll",children:e("div",{className:"grid grid-cols-3 w-full divide-y-2 divide-x-2",children:a.map((c,t)=>e("div",{className:`${c.id===s.id?"cursor-wait ":"cursor-pointer "} 'h-24 select-auto`,onClick:()=>d(c),children:e("img",{src:c.coverImg,className:"w-full h-full"})},c.id))})})})]})};var S=C;function E(l){const[a,s]=i.exports.useState([]),[d,c]=i.exports.useState(),[t,m]=i.exports.useState(l==null?void 0:l.stats);return i.exports.useEffect(()=>{l.trendings&&(s(l.trendings),c(l.trendings[0]))},[]),r(N,{auth:l.auth,errors:l.errors,children:[e(v,{title:"Dashboard"}),e("div",{className:"h-full sm:overflow-hidden overflow-y-scroll",children:r("div",{className:"flex sm:flex-row flex-col justify-between mt-1 divide-x-2 h-full",children:[e("div",{className:"sm:w-1/3 w-full border sm:my-0 mb-2",children:e("div",{className:"flex h-full px-2 justify-center items-center overflow-hidden",children:r("div",{className:"grid w-full sm:grid-cols-2 grid-cols-1 divide-x-2 divide-y-8 overflow-y-scroll",children:[e(o,{type:"Total Income",value:`${"\u20A6"+Intl.NumberFormat().format(t.income)}`}),e(o,{type:"Purchases",value:t.purchases}),e(o,{type:"Posts",value:t.posts}),e(o,{type:"Total Views",value:t.views}),e(o,{type:"Registered members",value:t.members})]})})}),e("div",{className:"sm:w-1/3 w-full sm:px-0 px-2",children:r("div",{className:"flex flex-col h-full justify-between w-full",children:[e("div",{className:"sm:h-[8%] h-[8%] bg-white border-b-2",children:e("div",{className:"flex h-full items-center px-2",children:e("h1",{children:"Comment Feeds"})})}),e("div",{className:"h-[92%]",children:e(T,{feeds:t.comments})})]})}),e("div",{className:"sm:w-1/3 w-full sm:px-0 px-2 mr-2",children:r("div",{className:"flex flex-col justify-between h-full w-full",children:[e("div",{className:"h-[8%] bg-slate-200",children:e("div",{className:"flex h-full items-center",children:e("h1",{className:"px-1",children:"Top 12 Trending Posts"})})}),r("div",{className:"h-[92%]",children:[a.length===0&&r("div",{className:"flex flex-col h-full justify-center items-center",children:[e(g,{size:40}),e("span",{className:"italic",children:"There are no trending post this time"})]}),a.length!==0&&e("div",{className:"h-full pb-4",children:e(S,{trending:d,trendings:a})})]})]})})]})})]})}export{E as default};

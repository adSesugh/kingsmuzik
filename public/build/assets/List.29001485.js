import{r as i,j as e,a as r,L as o,c as f,H as x}from"./app.8bed910f.js";import{A as p}from"./Authenticated.78e3eade.js";import{b as v}from"./index.esm.fad5b1a8.js";import{I as g}from"./Input.c4ef0241.js";import{h as N}from"./moment.9709ab41.js";import{A as b}from"./AudioControl.bbee3487.js";import{V as w}from"./VideoCanvas.0a151aa5.js";import"./ApplicationLogo.a8871269.js";import"./iconBase.36102785.js";import"./index.esm.9889e0e6.js";import"./styles.c79e221e.js";const y=({track:s})=>{const[l,a]=i.exports.useState(!1),[d,n]=i.exports.useState(0),{title:m,coverImg:c,audioUrl:h}=s,t=i.exports.useRef(new Audio(h)),u=i.exports.useRef();return i.exports.useEffect(()=>(l?(t.current.play(),setInterval(()=>{n(t==null?void 0:t.current.currentTime)},1e3)):t.current.pause(),()=>{t.current.pause(),clearInterval(u.current)}),[l]),e("div",{className:"h-full w-full",children:r("div",{className:"relative inline-block h-[153px] w-full",children:[e("img",{src:c,className:"h-full w-full relative"}),e("div",{className:"flex items-center absolute top-2 left-2",children:e("img",{src:c,alt:m,className:"rounded-full h-16 w-16 shadow-2xl border-2 border-gray-50"})}),e("div",{className:"flex flex-col absolute top-20 right-2 left-2 h-16 rounded-2xl bg-opacity-90",children:e(b,{isPlaying:d===t.current.duration?!1:l,onPlayPauseClick:a})})]})})},P=({post:s})=>{var l,a;return e("div",{className:"flex flex-col justify-center h-76 bg-white",children:r("div",{className:"h-full",children:[e("div",{className:"flex h-[70%]",children:s.audioUrl?e(y,{track:s}):s.videoUrl?e("div",{className:"h-full",children:e(w,{video:s.videoUrl,image:s.coverImg,playing:!1})}):e("img",{src:s.coverImg})}),r(o,{href:route("posts.show",s.slug),className:"flex flex-col shadow-2xl h-[20%] p-2 py-1",children:[e("p",{className:"text-xs font-bold uppercase lines-2 py-2 h-[50%]",children:s.title}),r("div",{className:"flex flex-row justify-between items-center h-[50%]",children:[e("div",{className:"text-xs font-semibold text-white bg-slate-400 px-3 rounded",children:(l=s.views)!=null?l:0}),e("div",{className:"text-xs font-semibold text-white bg-slate-500 px-3 rounded",children:(a=s.purchases)!=null?a:0}),e("div",{className:"text-[10px] italic font-semibold text-white bg-slate-600 px-2 rounded",children:N(s.created_at).format("LL")})]})]})]})})},z=()=>{const{props:s}=f();return r(p,{auth:s.auth,header:r("div",{className:"flex flex-row justify-between items-center h-8",children:[e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Post List"}),e("div",{children:e(g,{placeholder:"Search posts...",className:"w-96 h-9"})}),r(o,{href:route("posts.create"),className:"inline-flex bg-black text-white items-center px-4 py-1 rounded-md",children:[e(v,{size:12}),"\xA0 ",e("span",{className:"uppercase text-xs",children:"Add Post"})]})]}),children:[e(x,{title:"Posts"}),e("div",{className:"bg-gray-200 px-1 overflow-y-scroll h-full",children:e("div",{className:"grid sm:grid-cols-6 grid-cols-1",children:s.posts.map((l,a)=>e("div",{className:"p-1 rounded-md overflow-hidden",children:e(P,{post:l})},a))})})]})};export{z as default};
